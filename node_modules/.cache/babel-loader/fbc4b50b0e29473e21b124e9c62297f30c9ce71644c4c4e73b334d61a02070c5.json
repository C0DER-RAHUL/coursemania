{"ast":null,"code":"import{Button,Container,Heading,HStack,Image,Input,Stack,Text,VStack}from'@chakra-ui/react';import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{getAllCourses}from'../../redux/actions/course';import toast from'react-hot-toast';import{addToPlaylist}from'../../redux/actions/profile';import{loadUser}from'../../redux/actions/user';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Course=_ref=>{let{views,title,imageSrc,id,addToPlaylistHandler,creator,description,lectureCount,loading}=_ref;return/*#__PURE__*/_jsxs(VStack,{className:\"course\",alignItems:['center','flex-start'],children:[/*#__PURE__*/_jsx(Image,{src:imageSrc,boxSize:\"60\",objectFit:'contain'}),/*#__PURE__*/_jsx(Heading,{textAlign:['center','left'],maxW:\"200px\",size:'sm',fontFamily:'sans-serif',noOfLines:3,children:title}),/*#__PURE__*/_jsx(Text,{noOfLines:2,children:description}),/*#__PURE__*/_jsxs(HStack,{children:[/*#__PURE__*/_jsx(Text,{fontWeight:'bold',textTransform:\"uppercase\",children:'Creator'}),/*#__PURE__*/_jsx(Text,{fontFamily:'body',textTransform:\"uppercase\",children:creator})]}),/*#__PURE__*/_jsx(Heading,{textAlign:'center',size:\"xs\",children:\"Lectures - \".concat(lectureCount),textTransform:\"uppercase\"}),/*#__PURE__*/_jsx(Heading,{size:\"xs\",children:\"Views - \".concat(views),textTransform:\"uppercase\"}),/*#__PURE__*/_jsxs(Stack,{direction:['column','row'],alignItems:\"center\",children:[/*#__PURE__*/_jsx(Link,{to:\"/course/\".concat(id),children:/*#__PURE__*/_jsx(Button,{colorScheme:'yellow',children:\"Watch Now\"})}),/*#__PURE__*/_jsx(Button,{isLoading:loading,variant:'ghost',colorScheme:'yellow',onClick:()=>addToPlaylistHandler(id),children:\"Add to playlist\"})]})]});};const Courses=()=>{const[keyword,setKeyword]=useState('');const[category,setCategory]=useState('');const dispatch=useDispatch();const addToPlaylistHandler=async couseId=>{await dispatch(addToPlaylist(couseId));dispatch(loadUser());};const categories=['Web development','Artificial Intellegence','Data Structure & Algorithm','App Development','Data Science','Game Development'];const{loading,courses,error,message}=useSelector(state=>state.course);useEffect(()=>{dispatch(getAllCourses(category,keyword));if(error){toast.error(error);dispatch({type:'clearError'});}if(message){toast.success(message);dispatch({type:'clearMessage'});}},[category,keyword,dispatch,error,message]);return/*#__PURE__*/_jsxs(Container,{minH:'95vh',maxW:\"container.lg\",paddingY:'8',children:[/*#__PURE__*/_jsx(Heading,{children:\"All Courses\",m:'8'}),/*#__PURE__*/_jsx(Input,{value:keyword,onChange:e=>setKeyword(e.target.value),placeholder:\"Search a course...\",type:'text',focusBorderColor:\"yellow.500\"}),/*#__PURE__*/_jsx(HStack,{overflowX:'auto',paddingY:\"8\",css:{'&::-webkit-scrollbar':{display:'none'}},children:categories.map((item,index)=>/*#__PURE__*/_jsx(Button,{onClick:()=>setCategory(item),minW:'60',children:/*#__PURE__*/_jsx(Text,{children:item})},index))}),/*#__PURE__*/_jsx(Stack,{direction:['column','row'],flexWrap:\"wrap\",justifyContent:['flex-start','space-evenly'],alignItems:['center','flex-start'],children:courses.length>0?courses.map(item=>/*#__PURE__*/_jsx(Course,{title:item.title,description:item.description,views:item.views,imageSrc:item.poster.url,id:item._id,creator:item.createdBy,lectureCount:item.numOfVideos,addToPlaylistHandler:addToPlaylistHandler,loading:loading},item._id)):/*#__PURE__*/_jsx(Heading,{mt:\"4\",children:\"Courses Not Found\"})})]});};export default Courses;","map":{"version":3,"names":["Button","Container","Heading","HStack","Image","Input","Stack","Text","VStack","React","useEffect","useState","Link","useDispatch","useSelector","getAllCourses","toast","addToPlaylist","loadUser","jsx","_jsx","jsxs","_jsxs","Course","_ref","views","title","imageSrc","id","addToPlaylistHandler","creator","description","lectureCount","loading","className","alignItems","children","src","boxSize","objectFit","textAlign","maxW","size","fontFamily","noOfLines","fontWeight","textTransform","concat","direction","to","colorScheme","isLoading","variant","onClick","Courses","keyword","setKeyword","category","setCategory","dispatch","couseId","categories","courses","error","message","state","course","type","success","minH","paddingY","m","value","onChange","e","target","placeholder","focusBorderColor","overflowX","css","display","map","item","index","minW","flexWrap","justifyContent","length","poster","url","_id","createdBy","numOfVideos","mt"],"sources":["C:/Users/RAHUL/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/components/Courses/Courses.jsx"],"sourcesContent":["import {\r\n  Button,\r\n  Container,\r\n  Heading,\r\n  HStack,\r\n  Image,\r\n  Input,\r\n  Stack,\r\n  Text,\r\n  VStack,\r\n} from '@chakra-ui/react';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllCourses } from '../../redux/actions/course';\r\nimport toast from 'react-hot-toast';\r\nimport { addToPlaylist } from '../../redux/actions/profile';\r\nimport { loadUser } from '../../redux/actions/user';\r\n\r\nconst Course = ({\r\n  views,\r\n  title,\r\n  imageSrc,\r\n  id,\r\n  addToPlaylistHandler,\r\n  creator,\r\n  description,\r\n  lectureCount,\r\n  loading,\r\n}) => {\r\n  return (\r\n    <VStack className=\"course\" alignItems={['center', 'flex-start']}>\r\n      <Image src={imageSrc} boxSize=\"60\" objectFit={'contain'} />\r\n      <Heading\r\n        textAlign={['center', 'left']}\r\n        maxW=\"200px\"\r\n        size={'sm'}\r\n        fontFamily={'sans-serif'}\r\n        noOfLines={3}\r\n        children={title}\r\n      />\r\n      <Text noOfLines={2} children={description} />\r\n\r\n      <HStack>\r\n        <Text\r\n          fontWeight={'bold'}\r\n          textTransform=\"uppercase\"\r\n          children={'Creator'}\r\n        />\r\n\r\n        <Text\r\n          fontFamily={'body'}\r\n          textTransform=\"uppercase\"\r\n          children={creator}\r\n        />\r\n      </HStack>\r\n\r\n      <Heading\r\n        textAlign={'center'}\r\n        size=\"xs\"\r\n        children={`Lectures - ${lectureCount}`}\r\n        textTransform=\"uppercase\"\r\n      />\r\n\r\n      <Heading\r\n        size=\"xs\"\r\n        children={`Views - ${views}`}\r\n        textTransform=\"uppercase\"\r\n      />\r\n\r\n      <Stack direction={['column', 'row']} alignItems=\"center\">\r\n        <Link to={`/course/${id}`}>\r\n          <Button colorScheme={'yellow'}>Watch Now</Button>\r\n        </Link>\r\n        <Button\r\n          isLoading={loading}\r\n          variant={'ghost'}\r\n          colorScheme={'yellow'}\r\n          onClick={() => addToPlaylistHandler(id)}\r\n        >\r\n          Add to playlist\r\n        </Button>\r\n      </Stack>\r\n    </VStack>\r\n  );\r\n};\r\n\r\nconst Courses = () => {\r\n  const [keyword, setKeyword] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n  const addToPlaylistHandler = async couseId => {\r\n    await dispatch(addToPlaylist(couseId));\r\n    dispatch(loadUser());\r\n  };\r\n\r\n  const categories = [\r\n    'Web development',\r\n    'Artificial Intellegence',\r\n    'Data Structure & Algorithm',\r\n    'App Development',\r\n    'Data Science',\r\n    'Game Development',\r\n  ];\r\n\r\n  const { loading, courses, error, message } = useSelector(\r\n    state => state.course\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllCourses(category, keyword));\r\n\r\n    if (error) {\r\n      toast.error(error);\r\n      dispatch({ type: 'clearError' });\r\n    }\r\n\r\n    if (message) {\r\n      toast.success(message);\r\n      dispatch({ type: 'clearMessage' });\r\n    }\r\n  }, [category, keyword, dispatch, error, message]);\r\n\r\n  return (\r\n    <Container minH={'95vh'} maxW=\"container.lg\" paddingY={'8'}>\r\n      <Heading children=\"All Courses\" m={'8'} />\r\n\r\n      <Input\r\n        value={keyword}\r\n        onChange={e => setKeyword(e.target.value)}\r\n        placeholder=\"Search a course...\"\r\n        type={'text'}\r\n        focusBorderColor=\"yellow.500\"\r\n      />\r\n\r\n      <HStack\r\n        overflowX={'auto'}\r\n        paddingY=\"8\"\r\n        css={{\r\n          '&::-webkit-scrollbar': {\r\n            display: 'none',\r\n          },\r\n        }}\r\n      >\r\n        {categories.map((item, index) => (\r\n          <Button key={index} onClick={() => setCategory(item)} minW={'60'}>\r\n            <Text children={item} />\r\n          </Button>\r\n        ))}\r\n      </HStack>\r\n\r\n      <Stack\r\n        direction={['column', 'row']}\r\n        flexWrap=\"wrap\"\r\n        justifyContent={['flex-start', 'space-evenly']}\r\n        alignItems={['center', 'flex-start']}\r\n      >\r\n        {courses.length > 0 ? (\r\n          courses.map(item => (\r\n            <Course\r\n              key={item._id}\r\n              title={item.title}\r\n              description={item.description}\r\n              views={item.views}\r\n              imageSrc={item.poster.url}\r\n              id={item._id}\r\n              creator={item.createdBy}\r\n              lectureCount={item.numOfVideos}\r\n              addToPlaylistHandler={addToPlaylistHandler}\r\n              loading={loading}\r\n            />\r\n          ))\r\n        ) : (\r\n          <Heading mt=\"4\" children=\"Courses Not Found\" />\r\n        )}\r\n      </Stack>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Courses;\r\n"],"mappings":"AAAA,OACEA,MAAM,CACNC,SAAS,CACTC,OAAO,CACPC,MAAM,CACNC,KAAK,CACLC,KAAK,CACLC,KAAK,CACLC,IAAI,CACJC,MAAM,KACD,kBAAkB,CACzB,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,aAAa,KAAQ,4BAA4B,CAC1D,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,aAAa,KAAQ,6BAA6B,CAC3D,OAASC,QAAQ,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpD,KAAM,CAAAC,MAAM,CAAGC,IAAA,EAUT,IAVU,CACdC,KAAK,CACLC,KAAK,CACLC,QAAQ,CACRC,EAAE,CACFC,oBAAoB,CACpBC,OAAO,CACPC,WAAW,CACXC,YAAY,CACZC,OACF,CAAC,CAAAT,IAAA,CACC,mBACEF,KAAA,CAACd,MAAM,EAAC0B,SAAS,CAAC,QAAQ,CAACC,UAAU,CAAE,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAAC,QAAA,eAC9DhB,IAAA,CAAChB,KAAK,EAACiC,GAAG,CAAEV,QAAS,CAACW,OAAO,CAAC,IAAI,CAACC,SAAS,CAAE,SAAU,CAAE,CAAC,cAC3DnB,IAAA,CAAClB,OAAO,EACNsC,SAAS,CAAE,CAAC,QAAQ,CAAE,MAAM,CAAE,CAC9BC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAE,IAAK,CACXC,UAAU,CAAE,YAAa,CACzBC,SAAS,CAAE,CAAE,CACbR,QAAQ,CAAEV,KAAM,CACjB,CAAC,cACFN,IAAA,CAACb,IAAI,EAACqC,SAAS,CAAE,CAAE,CAACR,QAAQ,CAAEL,WAAY,CAAE,CAAC,cAE7CT,KAAA,CAACnB,MAAM,EAAAiC,QAAA,eACLhB,IAAA,CAACb,IAAI,EACHsC,UAAU,CAAE,MAAO,CACnBC,aAAa,CAAC,WAAW,CACzBV,QAAQ,CAAE,SAAU,CACrB,CAAC,cAEFhB,IAAA,CAACb,IAAI,EACHoC,UAAU,CAAE,MAAO,CACnBG,aAAa,CAAC,WAAW,CACzBV,QAAQ,CAAEN,OAAQ,CACnB,CAAC,EACI,CAAC,cAETV,IAAA,CAAClB,OAAO,EACNsC,SAAS,CAAE,QAAS,CACpBE,IAAI,CAAC,IAAI,CACTN,QAAQ,eAAAW,MAAA,CAAgBf,YAAY,CAAG,CACvCc,aAAa,CAAC,WAAW,CAC1B,CAAC,cAEF1B,IAAA,CAAClB,OAAO,EACNwC,IAAI,CAAC,IAAI,CACTN,QAAQ,YAAAW,MAAA,CAAatB,KAAK,CAAG,CAC7BqB,aAAa,CAAC,WAAW,CAC1B,CAAC,cAEFxB,KAAA,CAAChB,KAAK,EAAC0C,SAAS,CAAE,CAAC,QAAQ,CAAE,KAAK,CAAE,CAACb,UAAU,CAAC,QAAQ,CAAAC,QAAA,eACtDhB,IAAA,CAACR,IAAI,EAACqC,EAAE,YAAAF,MAAA,CAAanB,EAAE,CAAG,CAAAQ,QAAA,cACxBhB,IAAA,CAACpB,MAAM,EAACkD,WAAW,CAAE,QAAS,CAAAd,QAAA,CAAC,WAAS,CAAQ,CAAC,CAC7C,CAAC,cACPhB,IAAA,CAACpB,MAAM,EACLmD,SAAS,CAAElB,OAAQ,CACnBmB,OAAO,CAAE,OAAQ,CACjBF,WAAW,CAAE,QAAS,CACtBG,OAAO,CAAEA,CAAA,GAAMxB,oBAAoB,CAACD,EAAE,CAAE,CAAAQ,QAAA,CACzC,iBAED,CAAQ,CAAC,EACJ,CAAC,EACF,CAAC,CAEb,CAAC,CAED,KAAM,CAAAkB,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAG7C,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAC8C,QAAQ,CAAEC,WAAW,CAAC,CAAG/C,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAgD,QAAQ,CAAG9C,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAgB,oBAAoB,CAAG,KAAM,CAAA+B,OAAO,EAAI,CAC5C,KAAM,CAAAD,QAAQ,CAAC1C,aAAa,CAAC2C,OAAO,CAAC,CAAC,CACtCD,QAAQ,CAACzC,QAAQ,CAAC,CAAC,CAAC,CACtB,CAAC,CAED,KAAM,CAAA2C,UAAU,CAAG,CACjB,iBAAiB,CACjB,yBAAyB,CACzB,4BAA4B,CAC5B,iBAAiB,CACjB,cAAc,CACd,kBAAkB,CACnB,CAED,KAAM,CAAE5B,OAAO,CAAE6B,OAAO,CAAEC,KAAK,CAAEC,OAAQ,CAAC,CAAGlD,WAAW,CACtDmD,KAAK,EAAIA,KAAK,CAACC,MACjB,CAAC,CAEDxD,SAAS,CAAC,IAAM,CACdiD,QAAQ,CAAC5C,aAAa,CAAC0C,QAAQ,CAAEF,OAAO,CAAC,CAAC,CAE1C,GAAIQ,KAAK,CAAE,CACT/C,KAAK,CAAC+C,KAAK,CAACA,KAAK,CAAC,CAClBJ,QAAQ,CAAC,CAAEQ,IAAI,CAAE,YAAa,CAAC,CAAC,CAClC,CAEA,GAAIH,OAAO,CAAE,CACXhD,KAAK,CAACoD,OAAO,CAACJ,OAAO,CAAC,CACtBL,QAAQ,CAAC,CAAEQ,IAAI,CAAE,cAAe,CAAC,CAAC,CACpC,CACF,CAAC,CAAE,CAACV,QAAQ,CAAEF,OAAO,CAAEI,QAAQ,CAAEI,KAAK,CAAEC,OAAO,CAAC,CAAC,CAEjD,mBACE1C,KAAA,CAACrB,SAAS,EAACoE,IAAI,CAAE,MAAO,CAAC5B,IAAI,CAAC,cAAc,CAAC6B,QAAQ,CAAE,GAAI,CAAAlC,QAAA,eACzDhB,IAAA,CAAClB,OAAO,EAACkC,QAAQ,CAAC,aAAa,CAACmC,CAAC,CAAE,GAAI,CAAE,CAAC,cAE1CnD,IAAA,CAACf,KAAK,EACJmE,KAAK,CAAEjB,OAAQ,CACfkB,QAAQ,CAAEC,CAAC,EAAIlB,UAAU,CAACkB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1CI,WAAW,CAAC,oBAAoB,CAChCT,IAAI,CAAE,MAAO,CACbU,gBAAgB,CAAC,YAAY,CAC9B,CAAC,cAEFzD,IAAA,CAACjB,MAAM,EACL2E,SAAS,CAAE,MAAO,CAClBR,QAAQ,CAAC,GAAG,CACZS,GAAG,CAAE,CACH,sBAAsB,CAAE,CACtBC,OAAO,CAAE,MACX,CACF,CAAE,CAAA5C,QAAA,CAEDyB,UAAU,CAACoB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC1B/D,IAAA,CAACpB,MAAM,EAAaqD,OAAO,CAAEA,CAAA,GAAMK,WAAW,CAACwB,IAAI,CAAE,CAACE,IAAI,CAAE,IAAK,CAAAhD,QAAA,cAC/DhB,IAAA,CAACb,IAAI,EAAC6B,QAAQ,CAAE8C,IAAK,CAAE,CAAC,EADbC,KAEL,CACT,CAAC,CACI,CAAC,cAET/D,IAAA,CAACd,KAAK,EACJ0C,SAAS,CAAE,CAAC,QAAQ,CAAE,KAAK,CAAE,CAC7BqC,QAAQ,CAAC,MAAM,CACfC,cAAc,CAAE,CAAC,YAAY,CAAE,cAAc,CAAE,CAC/CnD,UAAU,CAAE,CAAC,QAAQ,CAAE,YAAY,CAAE,CAAAC,QAAA,CAEpC0B,OAAO,CAACyB,MAAM,CAAG,CAAC,CACjBzB,OAAO,CAACmB,GAAG,CAACC,IAAI,eACd9D,IAAA,CAACG,MAAM,EAELG,KAAK,CAAEwD,IAAI,CAACxD,KAAM,CAClBK,WAAW,CAAEmD,IAAI,CAACnD,WAAY,CAC9BN,KAAK,CAAEyD,IAAI,CAACzD,KAAM,CAClBE,QAAQ,CAAEuD,IAAI,CAACM,MAAM,CAACC,GAAI,CAC1B7D,EAAE,CAAEsD,IAAI,CAACQ,GAAI,CACb5D,OAAO,CAAEoD,IAAI,CAACS,SAAU,CACxB3D,YAAY,CAAEkD,IAAI,CAACU,WAAY,CAC/B/D,oBAAoB,CAAEA,oBAAqB,CAC3CI,OAAO,CAAEA,OAAQ,EATZiD,IAAI,CAACQ,GAUX,CACF,CAAC,cAEFtE,IAAA,CAAClB,OAAO,EAAC2F,EAAE,CAAC,GAAG,CAACzD,QAAQ,CAAC,mBAAmB,CAAE,CAC/C,CACI,CAAC,EACC,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAkB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}