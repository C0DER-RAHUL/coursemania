{"ast":null,"code":"import{server}from'../store';import axios from'axios';export const login=(email,password)=>async dispatch=>{try{dispatch({type:'loginRequest'});const{data}=await axios.post(\"\".concat(server,\"/login\"),{email,password},{headers:{'Content-type':'application/json'},withCredentials:true});console.log(data);dispatch({type:'loginSuccess',payload:data});}catch(error){dispatch({type:'loginFail',payload:error.response.data.message});}};export const register=formdata=>async dispatch=>{try{dispatch({type:'registerRequest'});const{data}=await axios.post(\"\".concat(server,\"/register\"),formdata,{headers:{'Content-type':'multipart/form-data'},withCredentials:true});dispatch({type:'registerSuccess',payload:data});}catch(error){dispatch({type:'registerFail',payload:error.response.data.message});}};export const loadUser=()=>async dispatch=>{try{dispatch({type:'loadUserRequest'});const{data}=await axios.get(\"\".concat(server,\"/me\"),{withCredentials:true});dispatch({type:'loadUserSuccess',payload:data.user});}catch(error){dispatch({type:'loadUserFail',payload:error.response.data.message});}};export const logout=()=>async dispatch=>{try{dispatch({type:'logoutRequest'});const{data}=await axios.get(\"\".concat(server,\"/logout\"),{withCredentials:true});dispatch({type:'logoutSuccess',payload:data.message});}catch(error){dispatch({type:'logoutFail',payload:error.response.data.message});}};export const buySubscription=()=>async dispatch=>{try{dispatch({type:'buySubscriptionRequest'});const{data}=await axios.get(\"\".concat(server,\"/subscribe\"),{withCredentials:true});dispatch({type:'buySubscriptionSuccess',payload:data.subscriptionId});}catch(error){dispatch({type:'buySubscriptionFail',payload:error.response.data.message});}};export const cancelSubscription=()=>async dispatch=>{try{dispatch({type:'cancelSubscriptionRequest'});const{data}=await axios.delete(\"\".concat(server,\"/subscribe/cancel\"),{withCredentials:true});dispatch({type:'cancelSubscriptionSuccess',payload:data.message});}catch(error){dispatch({type:'cancelSubscriptionFail',payload:error.response.data.message});}};","map":{"version":3,"names":["server","axios","login","email","password","dispatch","type","data","post","concat","headers","withCredentials","console","log","payload","error","response","message","register","formdata","loadUser","get","user","logout","buySubscription","subscriptionId","cancelSubscription","delete"],"sources":["C:/Users/RAHUL/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/redux/actions/user.js"],"sourcesContent":["import { server } from '../store';\r\nimport axios from 'axios';\r\n\r\nexport const login = (email, password) => async dispatch => {\r\n  try {\r\n    dispatch({ type: 'loginRequest' });\r\n\r\n    const { data } = await axios.post(\r\n      `${server}/login`,\r\n      { email, password },\r\n      {\r\n        headers: {\r\n          'Content-type': 'application/json',\r\n        },\r\n\r\n        withCredentials: true,\r\n      }\r\n    );\r\n    console.log(data);\r\n\r\n    dispatch({ type: 'loginSuccess', payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: 'loginFail', payload: error.response.data.message });\r\n  }\r\n};\r\n\r\nexport const register = formdata => async dispatch => {\r\n  try {\r\n    dispatch({ type: 'registerRequest' });\r\n\r\n    const { data } = await axios.post(`${server}/register`, formdata, {\r\n      headers: {\r\n        'Content-type': 'multipart/form-data',\r\n      },\r\n\r\n      withCredentials: true,\r\n    });\r\n\r\n    dispatch({ type: 'registerSuccess', payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: 'registerFail', payload: error.response.data.message });\r\n  }\r\n};\r\n\r\nexport const loadUser = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: 'loadUserRequest' });\r\n\r\n    const { data } = await axios.get(\r\n      `${server}/me`,\r\n\r\n      {\r\n        withCredentials: true,\r\n      }\r\n    );\r\n    dispatch({ type: 'loadUserSuccess', payload: data.user });\r\n  } catch (error) {\r\n    dispatch({ type: 'loadUserFail', payload: error.response.data.message });\r\n  }\r\n};\r\n\r\nexport const logout = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: 'logoutRequest' });\r\n\r\n    const { data } = await axios.get(`${server}/logout`, {\r\n      withCredentials: true,\r\n    });\r\n    dispatch({ type: 'logoutSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({ type: 'logoutFail', payload: error.response.data.message });\r\n  }\r\n};\r\n\r\nexport const buySubscription = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: 'buySubscriptionRequest' });\r\n\r\n    const { data } = await axios.get(`${server}/subscribe`, {\r\n      withCredentials: true,\r\n    });\r\n\r\n    dispatch({ type: 'buySubscriptionSuccess', payload: data.subscriptionId });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'buySubscriptionFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cancelSubscription = () => async dispatch => {\r\n  try {\r\n    dispatch({ type: 'cancelSubscriptionRequest' });\r\n\r\n    const { data } = await axios.delete(`${server}/subscribe/cancel`, {\r\n      withCredentials: true,\r\n    });\r\n\r\n    dispatch({ type: 'cancelSubscriptionSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'cancelSubscriptionFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\n \r\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}