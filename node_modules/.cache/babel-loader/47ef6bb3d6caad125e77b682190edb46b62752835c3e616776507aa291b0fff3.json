{"ast":null,"code":"import{Box,Button,Grid,Heading,Input,Modal,ModalBody,ModalCloseButton,ModalContent,ModalFooter,ModalHeader,ModalOverlay,Stack,Text,VStack}from'@chakra-ui/react';import React from'react';import{useState}from'react';import{RiDeleteBin7Fill}from'react-icons/ri';import{fileUploadCss}from'../../Auth/Register';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseModal=_ref=>{let{isOpen,onClose,id,deleteButtonHandler,addLectureHandler,courseTitle,lectures=[],loading}=_ref;const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[video,setVideo]=useState('');const[videoPrev,setVideoPrev]=useState('');const changeVideoHandler=e=>{const file=e.target.files[0];const reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=()=>{setVideoPrev(reader.result);setVideo(file);};};const handleClose=()=>{setTitle('');setDescription('');setVideo('');setVideoPrev('');onClose();};return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,size:\"full\",onClose:handleClose,scrollBehavior:\"outside\",children:[/*#__PURE__*/_jsx(ModalOverlay,{}),/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(ModalHeader,{children:courseTitle}),/*#__PURE__*/_jsx(ModalCloseButton,{}),/*#__PURE__*/_jsx(ModalBody,{p:\"16\",children:/*#__PURE__*/_jsxs(Grid,{templateColumns:['1fr','3fr 1fr'],children:[/*#__PURE__*/_jsxs(Box,{px:['0','16'],children:[/*#__PURE__*/_jsxs(Box,{my:\"5\",children:[/*#__PURE__*/_jsx(Heading,{children:courseTitle}),/*#__PURE__*/_jsx(Heading,{children:\"#\".concat(id),size:\"sm\",opacity:0.4})]}),/*#__PURE__*/_jsx(Heading,{children:'Lectures',size:\"lg\"}),lectures.map((item,i)=>/*#__PURE__*/_jsx(VideoCard,{title:item.title,description:item.description,num:i+1,lectureId:item._id,courseId:id,deleteButtonHandler:deleteButtonHandler,loading:loading},i))]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(\"form\",{onSubmit:e=>addLectureHandler(e,id,title,description,video),children:/*#__PURE__*/_jsxs(VStack,{spacing:'4',children:[/*#__PURE__*/_jsx(Heading,{children:\"Add Lecture\",size:'md',textTransform:\"uppercase\"}),/*#__PURE__*/_jsx(Input,{focusBorderColor:\"purple.300\",placeholder:\"Title\",value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(Input,{focusBorderColor:\"purple.300\",placeholder:\"Description\",value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(Input,{accept:\"video/mp4\",required:true,type:'file',focusBorderColor:\"purple.300\",css:{'&::file-selector-button':{...fileUploadCss,color:'purple'}},onChange:changeVideoHandler}),videoPrev&&/*#__PURE__*/_jsx(\"video\",{controlsList:\"nodownload\",controls:true,src:videoPrev}),/*#__PURE__*/_jsx(Button,{isLoading:loading,w:\"full\",colorScheme:'purple',type:\"submit\",children:\"Upload\"})]})})})]})}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,children:\"Close\"})})]})]});};export default CourseModal;function VideoCard(_ref2){let{title,description,num,lectureId,courseId,deleteButtonHandler,loading}=_ref2;return/*#__PURE__*/_jsxs(Stack,{direction:['column','row'],my:\"8\",borderRadius:'lg',boxShadow:'0 0 10px rgba(107,70,193,0.5)',justifyContent:['flex-start','space-between'],p:['4','8'],children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Heading,{size:'sm',children:\"#\".concat(num,\" \").concat(title)}),/*#__PURE__*/_jsx(Text,{children:description})]}),/*#__PURE__*/_jsx(Button,{isLoading:loading,color:'purple.600',onClick:()=>deleteButtonHandler(courseId,lectureId),children:/*#__PURE__*/_jsx(RiDeleteBin7Fill,{})})]});}","map":{"version":3,"names":["Box","Button","Grid","Heading","Input","Modal","ModalBody","ModalCloseButton","ModalContent","ModalFooter","ModalHeader","ModalOverlay","Stack","Text","VStack","React","useState","RiDeleteBin7Fill","fileUploadCss","jsx","_jsx","jsxs","_jsxs","CourseModal","_ref","isOpen","onClose","id","deleteButtonHandler","addLectureHandler","courseTitle","lectures","loading","title","setTitle","description","setDescription","video","setVideo","videoPrev","setVideoPrev","changeVideoHandler","e","file","target","files","reader","FileReader","readAsDataURL","onloadend","result","handleClose","size","scrollBehavior","children","p","templateColumns","px","my","concat","opacity","map","item","i","VideoCard","num","lectureId","_id","courseId","onSubmit","spacing","textTransform","focusBorderColor","placeholder","value","onChange","accept","required","type","css","color","controlsList","controls","src","isLoading","w","colorScheme","onClick","_ref2","direction","borderRadius","boxShadow","justifyContent"],"sources":["C:/Users/RAHUL/OneDrive/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/components/Admin/AdminCourses/CourseModal.jsx"],"sourcesContent":["import {\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  Heading,\r\n  Input,\r\n  Modal,\r\n  ModalBody,\r\n  ModalCloseButton,\r\n  ModalContent,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalOverlay,\r\n  Stack,\r\n  Text,\r\n  VStack,\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport { RiDeleteBin7Fill } from 'react-icons/ri';\r\nimport { fileUploadCss } from '../../Auth/Register';\r\n\r\nconst CourseModal = ({\r\n  isOpen,\r\n  onClose,\r\n  id,\r\n  deleteButtonHandler,\r\n  addLectureHandler,\r\n  courseTitle,\r\n  lectures = [],\r\n  loading,\r\n}) => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [video, setVideo] = useState('');\r\n  const [videoPrev, setVideoPrev] = useState('');\r\n\r\n  const changeVideoHandler = e => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n\r\n    reader.readAsDataURL(file);\r\n\r\n    reader.onloadend = () => {\r\n      setVideoPrev(reader.result);\r\n      setVideo(file);\r\n    };\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setTitle('');\r\n    setDescription('');\r\n    setVideo('');\r\n    setVideoPrev('');\r\n    onClose();\r\n  };\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      size=\"full\"\r\n      onClose={handleClose}\r\n      scrollBehavior=\"outside\"\r\n    >\r\n      <ModalOverlay />\r\n\r\n      <ModalContent>\r\n        <ModalHeader>{courseTitle}</ModalHeader>\r\n        <ModalCloseButton />\r\n\r\n        <ModalBody p=\"16\">\r\n          <Grid templateColumns={['1fr', '3fr 1fr']}>\r\n            <Box px={['0', '16']}>\r\n              <Box my=\"5\">\r\n                <Heading children={courseTitle} />\r\n                <Heading children={`#${id}`} size=\"sm\" opacity={0.4} />\r\n              </Box>\r\n\r\n              <Heading children={'Lectures'} size=\"lg\" />\r\n\r\n              {lectures.map((item, i) => (\r\n                <VideoCard\r\n                  key={i}\r\n                  title={item.title}\r\n                  description={item.description}\r\n                  num={i + 1}\r\n                  lectureId={item._id}\r\n                  courseId={id}\r\n                  deleteButtonHandler={deleteButtonHandler}\r\n                  loading={loading}\r\n                />\r\n              ))}\r\n            </Box>\r\n\r\n            <Box>\r\n              <form\r\n                onSubmit={e =>\r\n                  addLectureHandler(e, id, title, description, video)\r\n                }\r\n              >\r\n                <VStack spacing={'4'}>\r\n                  <Heading\r\n                    children=\"Add Lecture\"\r\n                    size={'md'}\r\n                    textTransform=\"uppercase\"\r\n                  />\r\n\r\n                  <Input\r\n                    focusBorderColor=\"purple.300\"\r\n                    placeholder=\"Title\"\r\n                    value={title}\r\n                    onChange={e => setTitle(e.target.value)}\r\n                  />\r\n                  <Input\r\n                    focusBorderColor=\"purple.300\"\r\n                    placeholder=\"Description\"\r\n                    value={description}\r\n                    onChange={e => setDescription(e.target.value)}\r\n                  />\r\n\r\n                  <Input\r\n                    accept=\"video/mp4\"\r\n                    required\r\n                    type={'file'}\r\n                    focusBorderColor=\"purple.300\"\r\n                    css={{\r\n                      '&::file-selector-button': {\r\n                        ...fileUploadCss,\r\n                        color: 'purple',\r\n                      },\r\n                    }}\r\n                    onChange={changeVideoHandler}\r\n                  />\r\n\r\n                  {videoPrev && (\r\n                    <video\r\n                      controlsList=\"nodownload\"\r\n                      controls\r\n                      src={videoPrev}\r\n                    ></video>\r\n                  )}\r\n\r\n                  <Button\r\n                    isLoading={loading}\r\n                    w=\"full\"\r\n                    colorScheme={'purple'}\r\n                    type=\"submit\"\r\n                  >\r\n                    Upload\r\n                  </Button>\r\n                </VStack>\r\n              </form>\r\n            </Box>\r\n          </Grid>\r\n        </ModalBody>\r\n\r\n        <ModalFooter>\r\n          <Button onClick={handleClose}>Close</Button>\r\n        </ModalFooter>\r\n      </ModalContent>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default CourseModal;\r\n\r\nfunction VideoCard({\r\n  title,\r\n  description,\r\n  num,\r\n  lectureId,\r\n  courseId,\r\n  deleteButtonHandler,\r\n  loading,\r\n}) {\r\n  return (\r\n    <Stack\r\n      direction={['column', 'row']}\r\n      my=\"8\"\r\n      borderRadius={'lg'}\r\n      boxShadow={'0 0 10px rgba(107,70,193,0.5)'}\r\n      justifyContent={['flex-start', 'space-between']}\r\n      p={['4', '8']}\r\n    >\r\n      <Box>\r\n        <Heading size={'sm'} children={`#${num} ${title}`} />\r\n        <Text children={description} />\r\n      </Box>\r\n\r\n      <Button\r\n        isLoading={loading}\r\n        color={'purple.600'}\r\n        onClick={() => deleteButtonHandler(courseId, lectureId)}\r\n      >\r\n        <RiDeleteBin7Fill />\r\n      </Button>\r\n    </Stack>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}