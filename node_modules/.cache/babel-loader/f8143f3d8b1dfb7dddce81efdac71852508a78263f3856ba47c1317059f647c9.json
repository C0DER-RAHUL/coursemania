{"ast":null,"code":"import{server}from'../store';import axios from'axios';export const createCourse=formData=>async dispatch=>{try{const config={headers:{'Content-type':'multipart/form-data'},withCredentials:true};dispatch({type:'createCourseRequest'});const{data}=await axios.post(\"\".concat(server,\"/createcourse\"),formData,config);dispatch({type:'createCourseSuccess',payload:data.message});}catch(error){dispatch({type:'createCourseFail',payload:error.response.data.message});}};export const deleteCourse=id=>async dispatch=>{try{const config={withCredentials:true};dispatch({type:'deleteCourseRequest'});const{data}=await axios.delete(\"\".concat(server,\"/course/\").concat(id),config);dispatch({type:'deleteCourseSuccess',payload:data.message});}catch(error){dispatch({type:'deleteCourseFail',payload:error.response.data.message});}};export const addLecture=(id,formdata)=>async dispatch=>{try{const config={headers:{'Content-type':'multipart/form-data'},withCredentials:true};dispatch({type:'addLectureRequest'});const{data}=await axios.post(\"\".concat(server,\"/course/\").concat(id),formdata,config);dispatch({type:'addLectureSuccess',payload:data.message});}catch(error){dispatch({type:'addLectureFail',payload:error.response.data.message});}};export const deleteLecture=(courseId,lectureId)=>async dispatch=>{try{const config={withCredentials:true};dispatch({type:'deleteLectureRequest'});const{data}=await axios.delete(\"\".concat(server,\"/lecture?courseId=\").concat(courseId,\"&lectureId=\").concat(lectureId),config);dispatch({type:'deleteLectureSuccess',payload:data.message});}catch(error){dispatch({type:'deleteLectureFail',payload:error.response.data.message});}};export const getAllUsers=()=>async dispatch=>{try{const config={withCredentials:true};dispatch({type:'getAllUsersRequest'});const{data}=await axios.get(\"\".concat(server,\"/admin/users\"),config);dispatch({type:'getAllUsersSuccess',payload:data.users});}catch(error){dispatch({type:'getAllUsersFail',payload:error.response.data.message});}};export const updateUserRole=id=>async dispatch=>{try{const config={withCredentials:true};dispatch({type:'updateUserRoleRequest'});const{data}=await axios.put(\"\".concat(server,\"/admin/user/\").concat(id),{},config);dispatch({type:'updateUserRoleSuccess',payload:data.message});}catch(error){dispatch({type:'updateUserRoleFail',payload:error.response.data.message});}};export const deleteUser=id=>async dispatch=>{try{const config={withCredentials:true};dispatch({type:'deleteUserRequest'});const{data}=await axios.delete(\"\".concat(server,\"/admin/user/\").concat(id),config);dispatch({type:'deleteUserSuccess',payload:data.message});}catch(error){dispatch({type:'deleteUserFail',payload:error.response.data.message});}};export const getDashboardStats=()=>async dispatch=>{try{const config={withCredentials:true};dispatch({type:'getAdminStatsRequest'});const{data}=await axios.get(\"\".concat(server,\"/admin/stats\"),config);dispatch({type:'getAdminStatsSuccess',payload:data});}catch(error){dispatch({type:'getAdminStatsFail',payload:error.response.data.message});}};","map":{"version":3,"names":["server","axios","createCourse","formData","dispatch","config","headers","withCredentials","type","data","post","concat","payload","message","error","response","deleteCourse","id","delete","addLecture","formdata","deleteLecture","courseId","lectureId","getAllUsers","get","users","updateUserRole","put","deleteUser","getDashboardStats"],"sources":["C:/Users/RAHUL/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/redux/actions/admin.js"],"sourcesContent":["import { server } from '../store';\r\nimport axios from 'axios';\r\n\r\nexport const createCourse = formData => async dispatch => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'multipart/form-data',\r\n      },\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'createCourseRequest' });\r\n\r\n    const { data } = await axios.post(\r\n      `${server}/createcourse`,\r\n      formData,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: 'createCourseSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'createCourseFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteCourse = id => async dispatch => {\r\n  try {\r\n    const config = {\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'deleteCourseRequest' });\r\n\r\n    const { data } = await axios.delete(`${server}/course/${id}`, config);\r\n\r\n    dispatch({ type: 'deleteCourseSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'deleteCourseFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const addLecture = (id, formdata) => async dispatch => {\r\n  try {\r\n    const config = {\r\n      headers: {\r\n        'Content-type': 'multipart/form-data',\r\n      },\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'addLectureRequest' });\r\n\r\n    const { data } = await axios.post(\r\n      `${server}/course/${id}`,\r\n      formdata,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: 'addLectureSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'addLectureFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteLecture = (courseId, lectureId) => async dispatch => {\r\n  try {\r\n    const config = {\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'deleteLectureRequest' });\r\n\r\n    const { data } = await axios.delete(\r\n      `${server}/lecture?courseId=${courseId}&lectureId=${lectureId}`,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: 'deleteLectureSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'deleteLectureFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getAllUsers = () => async dispatch => {\r\n  try {\r\n    const config = {\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'getAllUsersRequest' });\r\n\r\n    const { data } = await axios.get(`${server}/admin/users`, config);\r\n\r\n    dispatch({ type: 'getAllUsersSuccess', payload: data.users });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'getAllUsersFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateUserRole = id => async dispatch => {\r\n  try {\r\n    const config = {\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'updateUserRoleRequest' });\r\n\r\n    const { data } = await axios.put(`${server}/admin/user/${id}`, {}, config);\r\n\r\n    dispatch({ type: 'updateUserRoleSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'updateUserRoleFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = id => async dispatch => {\r\n  try {\r\n    const config = {\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'deleteUserRequest' });\r\n\r\n    const { data } = await axios.delete(`${server}/admin/user/${id}`, config);\r\n\r\n    dispatch({ type: 'deleteUserSuccess', payload: data.message });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'deleteUserFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const getDashboardStats = () => async dispatch => {\r\n  try {\r\n    const config = {\r\n      withCredentials: true,\r\n    };\r\n    dispatch({ type: 'getAdminStatsRequest' });\r\n\r\n    const { data } = await axios.get(`${server}/admin/stats`, config);\r\n\r\n    dispatch({ type: 'getAdminStatsSuccess', payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: 'getAdminStatsFail',\r\n      payload: error.response.data.message,\r\n    });\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}