{"ast":null,"code":"import{Box,Grid,Heading,Text,VStack}from'@chakra-ui/react';import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Navigate,useParams}from'react-router-dom';import{getCourseLectures}from'../../redux/actions/course';import Loader from'../Layout/Loader/Loader';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CoursePage=_ref=>{let{user}=_ref;const[lectureNumber,setLectureNumber]=useState(0);const{lectures,loading}=useSelector(state=>state.course);const dispatch=useDispatch();const params=useParams();useEffect(()=>{dispatch(getCourseLectures(params.id));},[dispatch,params.id]);if(user.role!=='admin'&&(user.subscription===undefined||user.subscription.status!=='active')){return/*#__PURE__*/_jsx(Navigate,{to:'/subscribe'});}return loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Grid,{minH:'90vh',templateColumns:['1fr','3fr 1fr'],children:lectures&&lectures.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(\"video\",{width:'100%',controls:true,controlsList:\"nodownload noremoteplayback\",disablePictureInPicture:true,disableRemotePlayback:true,src:lectures[lectureNumber].video.url}),/*#__PURE__*/_jsx(Heading,{m:\"4\",children:\"#\".concat(lectureNumber+1,\" \").concat(lectures[lectureNumber].title)}),/*#__PURE__*/_jsx(Heading,{m:\"4\",children:\"Description\"}),/*#__PURE__*/_jsx(Text,{m:\"4\",children:lectures[lectureNumber].description})]}),/*#__PURE__*/_jsx(VStack,{children:lectures.map((element,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setLectureNumber(index),style:{width:'100%',padding:'1rem',textAlign:'center',margin:0,borderBottom:'1px solid rgba(0,0,0,0.2)'},children:/*#__PURE__*/_jsxs(Text,{noOfLines:1,children:[\"#\",index+1,\" \",element.title]})},element._id))})]}):/*#__PURE__*/_jsx(Heading,{children:\"No Lectures\"})});};export default CoursePage;","map":{"version":3,"names":["Box","Grid","Heading","Text","VStack","React","useEffect","useState","useDispatch","useSelector","Navigate","useParams","getCourseLectures","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CoursePage","_ref","user","lectureNumber","setLectureNumber","lectures","loading","state","course","dispatch","params","id","role","subscription","undefined","status","to","minH","templateColumns","children","length","width","controls","controlsList","disablePictureInPicture","disableRemotePlayback","src","video","url","m","concat","title","description","map","element","index","onClick","style","padding","textAlign","margin","borderBottom","noOfLines","_id"],"sources":["C:/Users/RAHUL/OneDrive/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/components/CoursePage/CoursePage.jsx"],"sourcesContent":["import { Box, Grid, Heading, Text, VStack } from '@chakra-ui/react';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Navigate, useParams } from 'react-router-dom';\r\nimport { getCourseLectures } from '../../redux/actions/course';\r\nimport Loader from '../Layout/Loader/Loader';\r\n\r\nconst CoursePage = ({ user }) => {\r\n  const [lectureNumber, setLectureNumber] = useState(0);\r\n\r\n  const { lectures, loading } = useSelector(state => state.course);\r\n\r\n  const dispatch = useDispatch();\r\n  const params = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getCourseLectures(params.id));\r\n  }, [dispatch, params.id]);\r\n\r\n  if (\r\n    user.role !== 'admin' &&\r\n    (user.subscription === undefined || user.subscription.status !== 'active')\r\n  ) {\r\n    return <Navigate to={'/subscribe'} />;\r\n  }\r\n\r\n  return loading ? (\r\n    <Loader />\r\n  ) : (\r\n    <Grid minH={'90vh'} templateColumns={['1fr', '3fr 1fr']}>\r\n      {lectures && lectures.length > 0 ? (\r\n        <>\r\n          <Box>\r\n            <video\r\n              width={'100%'}\r\n              controls\r\n              controlsList=\"nodownload noremoteplayback\"\r\n              disablePictureInPicture\r\n              disableRemotePlayback\r\n              src={lectures[lectureNumber].video.url}\r\n            ></video>\r\n\r\n            <Heading\r\n              m=\"4\"\r\n              children={`#${lectureNumber + 1} ${\r\n                lectures[lectureNumber].title\r\n              }`}\r\n            />\r\n\r\n            <Heading m=\"4\" children=\"Description\" />\r\n            <Text m=\"4\" children={lectures[lectureNumber].description} />\r\n          </Box>\r\n\r\n          <VStack>\r\n            {lectures.map((element, index) => (\r\n              <button\r\n                onClick={() => setLectureNumber(index)}\r\n                key={element._id}\r\n                style={{\r\n                  width: '100%',\r\n                  padding: '1rem',\r\n                  textAlign: 'center',\r\n                  margin: 0,\r\n                  borderBottom: '1px solid rgba(0,0,0,0.2)',\r\n                }}\r\n              >\r\n                <Text noOfLines={1}>\r\n                  #{index + 1} {element.title}\r\n                </Text>\r\n              </button>\r\n            ))}\r\n          </VStack>\r\n        </>\r\n      ) : (\r\n        <Heading children=\"No Lectures\" />\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CoursePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}