{"ast":null,"code":"import{Box,Button,Grid,Heading,HStack,Table,TableCaption,TableContainer,Tbody,Td,Th,Thead,Tr}from'@chakra-ui/react';import React,{useEffect}from'react';import{RiDeleteBin7Fill}from'react-icons/ri';import cursor from'../../../assets/images/cur.png';import Sidebar from'../Sidebar';import{useDispatch,useSelector}from'react-redux';import{deleteUser,getAllUsers,updateUserRole}from'../../../redux/actions/admin';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Users=()=>{const{users,loading,error,message}=useSelector(state=>state.admin);const dispatch=useDispatch();const updateHandler=userId=>{dispatch(updateUserRole(userId));};const deleteButtonHandler=userId=>{dispatch(deleteUser(userId));};useEffect(()=>{if(error){toast.error(error);dispatch({type:'clearError'});}if(message){toast.success(message);dispatch({type:'clearMessage'});}dispatch(getAllUsers());},[dispatch,error,message]);return/*#__PURE__*/_jsxs(Grid,{css:{cursor:\"url(\".concat(cursor,\"), default\")},minH:'100vh',templateColumns:['1fr','5fr 1fr'],children:[/*#__PURE__*/_jsxs(Box,{p:['0','16'],overflowX:\"auto\",children:[/*#__PURE__*/_jsx(Heading,{textTransform:'uppercase',children:\"All Users\",my:\"16\",textAlign:['center','left']}),/*#__PURE__*/_jsx(TableContainer,{w:['100vw','full'],children:/*#__PURE__*/_jsxs(Table,{variant:'simple',size:\"lg\",children:[/*#__PURE__*/_jsx(TableCaption,{children:\"All available users in the database\"}),/*#__PURE__*/_jsx(Thead,{children:/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsx(Th,{children:\"Id\"}),/*#__PURE__*/_jsx(Th,{children:\"Name\"}),/*#__PURE__*/_jsx(Th,{children:\"Email\"}),/*#__PURE__*/_jsx(Th,{children:\"Role\"}),/*#__PURE__*/_jsx(Th,{children:\"Subscription\"}),/*#__PURE__*/_jsx(Th,{isNumeric:true,children:\"Action\"})]})}),/*#__PURE__*/_jsx(Tbody,{children:users&&users.map(item=>/*#__PURE__*/_jsx(Row,{updateHandler:updateHandler,deleteButtonHandler:deleteButtonHandler,item:item,loading:loading},item._id))})]})})]}),/*#__PURE__*/_jsx(Sidebar,{})]});};export default Users;function Row(_ref){let{item,updateHandler,deleteButtonHandler,loading}=_ref;return/*#__PURE__*/_jsxs(Tr,{children:[/*#__PURE__*/_jsxs(Td,{children:[\"#\",item._id]}),/*#__PURE__*/_jsx(Td,{children:item.name}),/*#__PURE__*/_jsx(Td,{children:item.email}),/*#__PURE__*/_jsx(Td,{children:item.role}),/*#__PURE__*/_jsx(Td,{children:item.subscription&&item.subscription.status==='active'?'Active':'Not Active'}),/*#__PURE__*/_jsx(Td,{isNumeric:true,children:/*#__PURE__*/_jsxs(HStack,{justifyContent:'flex-end',children:[/*#__PURE__*/_jsx(Button,{onClick:()=>updateHandler(item._id),variant:'outline',color:\"purple.500\",isLoading:loading,children:\"Change Role\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>deleteButtonHandler(item._id),color:'purple.600',isLoading:loading,children:/*#__PURE__*/_jsx(RiDeleteBin7Fill,{})})]})})]});}","map":{"version":3,"names":["Box","Button","Grid","Heading","HStack","Table","TableCaption","TableContainer","Tbody","Td","Th","Thead","Tr","React","useEffect","RiDeleteBin7Fill","cursor","Sidebar","useDispatch","useSelector","deleteUser","getAllUsers","updateUserRole","toast","jsx","_jsx","jsxs","_jsxs","Users","users","loading","error","message","state","admin","dispatch","updateHandler","userId","deleteButtonHandler","type","success","css","concat","minH","templateColumns","children","p","overflowX","textTransform","my","textAlign","w","variant","size","isNumeric","map","item","Row","_id","_ref","name","email","role","subscription","status","justifyContent","onClick","color","isLoading"],"sources":["C:/Users/RAHUL/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/components/Admin/Users/Users.jsx"],"sourcesContent":["import {\r\n  Box,\r\n  Button,\r\n  Grid,\r\n  Heading,\r\n  HStack,\r\n  Table,\r\n  TableCaption,\r\n  TableContainer,\r\n  Tbody,\r\n  Td,\r\n  Th,\r\n  Thead,\r\n  Tr,\r\n} from '@chakra-ui/react';\r\nimport React, { useEffect } from 'react';\r\nimport { RiDeleteBin7Fill } from 'react-icons/ri';\r\nimport cursor from '../../../assets/images/cur.png';\r\nimport Sidebar from '../Sidebar';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  deleteUser,\r\n  getAllUsers,\r\n  updateUserRole,\r\n} from '../../../redux/actions/admin';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst Users = () => {\r\n  const { users, loading, error, message } = useSelector(state => state.admin);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const updateHandler = userId => {\r\n    dispatch(updateUserRole(userId));\r\n  };\r\n  const deleteButtonHandler = userId => {\r\n    dispatch(deleteUser(userId));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error);\r\n      dispatch({ type: 'clearError' });\r\n    }\r\n\r\n    if (message) {\r\n      toast.success(message);\r\n      dispatch({ type: 'clearMessage' });\r\n    }\r\n\r\n    dispatch(getAllUsers());\r\n  }, [dispatch, error, message]);\r\n\r\n  return (\r\n    <Grid\r\n      css={{\r\n        cursor: `url(${cursor}), default`,\r\n      }}\r\n      minH={'100vh'}\r\n      templateColumns={['1fr', '5fr 1fr']}\r\n    >\r\n      <Box p={['0', '16']} overflowX=\"auto\">\r\n        <Heading\r\n          textTransform={'uppercase'}\r\n          children=\"All Users\"\r\n          my=\"16\"\r\n          textAlign={['center', 'left']}\r\n        />\r\n\r\n        <TableContainer w={['100vw', 'full']}>\r\n          <Table variant={'simple'} size=\"lg\">\r\n            <TableCaption>All available users in the database</TableCaption>\r\n\r\n            <Thead>\r\n              <Tr>\r\n                <Th>Id</Th>\r\n                <Th>Name</Th>\r\n                <Th>Email</Th>\r\n                <Th>Role</Th>\r\n                <Th>Subscription</Th>\r\n                <Th isNumeric>Action</Th>\r\n              </Tr>\r\n            </Thead>\r\n\r\n            <Tbody>\r\n              {users &&\r\n                users.map(item => (\r\n                  <Row\r\n                    updateHandler={updateHandler}\r\n                    deleteButtonHandler={deleteButtonHandler}\r\n                    key={item._id}\r\n                    item={item}\r\n                    loading={loading}\r\n                  />\r\n                ))}\r\n            </Tbody>\r\n          </Table>\r\n        </TableContainer>\r\n      </Box>\r\n\r\n      <Sidebar />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\nfunction Row({ item, updateHandler, deleteButtonHandler, loading }) {\r\n  return (\r\n    <Tr>\r\n      <Td>#{item._id}</Td>\r\n      <Td>{item.name}</Td>\r\n      <Td>{item.email}</Td>\r\n      <Td>{item.role}</Td>\r\n      <Td>\r\n        {item.subscription && item.subscription.status === 'active'\r\n          ? 'Active'\r\n          : 'Not Active'}\r\n      </Td>\r\n\r\n      <Td isNumeric>\r\n        <HStack justifyContent={'flex-end'}>\r\n          <Button\r\n            onClick={() => updateHandler(item._id)}\r\n            variant={'outline'}\r\n            color=\"purple.500\"\r\n            isLoading={loading}\r\n          >\r\n            Change Role\r\n          </Button>\r\n\r\n          <Button\r\n            onClick={() => deleteButtonHandler(item._id)}\r\n            color={'purple.600'}\r\n            isLoading={loading}\r\n          >\r\n            <RiDeleteBin7Fill />\r\n          </Button>\r\n        </HStack>\r\n      </Td>\r\n    </Tr>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}