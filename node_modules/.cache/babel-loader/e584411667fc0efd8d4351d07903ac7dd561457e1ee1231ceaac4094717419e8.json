{"ast":null,"code":"import{Button,Container,Grid,Heading,Image,Input,Select,VStack}from'@chakra-ui/react';import React from'react';import{useEffect}from'react';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import cursor from'../../../assets/images/cursor.png';import{createCourse}from'../../../redux/actions/admin';import{fileUploadCss}from'../../Auth/Register';import Sidebar from'../Sidebar';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateCourse=()=>{const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[createdBy,setCreatedBy]=useState('');const[category,setCategory]=useState('');const[image,setImage]=useState('');const[imagePrev,setImagePrev]=useState('');const dispatch=useDispatch();const{loading,error,message}=useSelector(state=>state.admin);const categories=['Web development','Artificial Intellegence','Data Structure & Algorithm','App Development','Data Science','Game Development'];const changeImageHandler=e=>{const file=e.target.files[0];const reader=new FileReader();reader.readAsDataURL(file);reader.onloadend=()=>{setImagePrev(reader.result);setImage(file);};};const submitHandler=e=>{e.preventDefault();const myForm=new FormData();myForm.append('title',title);myForm.append('description',description);myForm.append('category',category);myForm.append('createdBy',createdBy);myForm.append('file',image);dispatch(createCourse(myForm));};useEffect(()=>{if(error){toast.error(error);dispatch({type:'clearError'});}if(message){toast.success(message);dispatch({type:'clearMessage'});}},[dispatch,error,message]);return/*#__PURE__*/_jsxs(Grid,{css:{cursor:\"url(\".concat(cursor,\"), default\")},minH:'100vh',templateColumns:['1fr','5fr 1fr'],children:[/*#__PURE__*/_jsx(Container,{py:\"16\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(Heading,{textTransform:'uppercase',children:\"Create Course\",my:\"16\",textAlign:['center','left']}),/*#__PURE__*/_jsxs(VStack,{m:\"auto\",spacing:'8',children:[/*#__PURE__*/_jsx(Input,{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Title\",type:'text',focusBorderColor:\"purple.300\"}),' ',/*#__PURE__*/_jsx(Input,{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Description\",type:'text',focusBorderColor:\"purple.300\"}),/*#__PURE__*/_jsx(Input,{value:createdBy,onChange:e=>setCreatedBy(e.target.value),placeholder:\"Creator Name\",type:'text',focusBorderColor:\"purple.300\"}),/*#__PURE__*/_jsxs(Select,{focusBorderColor:\"purple.300\",value:category,onChange:e=>setCategory(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Category\"}),categories.map(item=>/*#__PURE__*/_jsx(\"option\",{value:item,children:item},item))]}),/*#__PURE__*/_jsx(Input,{accept:\"image/*\",required:true,type:'file',focusBorderColor:\"purple.300\",css:{'&::file-selector-button':{...fileUploadCss,color:'purple'}},onChange:changeImageHandler}),imagePrev&&/*#__PURE__*/_jsx(Image,{src:imagePrev,boxSize:\"64\",objectFit:'contain'}),/*#__PURE__*/_jsx(Button,{isLoading:loading,w:\"full\",colorScheme:'purple',type:\"submit\",children:\"Create\"})]})]})}),/*#__PURE__*/_jsx(Sidebar,{})]});};export default CreateCourse;","map":{"version":3,"names":["Button","Container","Grid","Heading","Image","Input","Select","VStack","React","useEffect","useState","useDispatch","useSelector","cursor","createCourse","fileUploadCss","Sidebar","toast","jsx","_jsx","jsxs","_jsxs","CreateCourse","title","setTitle","description","setDescription","createdBy","setCreatedBy","category","setCategory","image","setImage","imagePrev","setImagePrev","dispatch","loading","error","message","state","admin","categories","changeImageHandler","e","file","target","files","reader","FileReader","readAsDataURL","onloadend","result","submitHandler","preventDefault","myForm","FormData","append","type","success","css","concat","minH","templateColumns","children","py","onSubmit","textTransform","my","textAlign","m","spacing","value","onChange","placeholder","focusBorderColor","map","item","accept","required","color","src","boxSize","objectFit","isLoading","w","colorScheme"],"sources":["C:/Users/RAHUL/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/components/Admin/CreateCourse/CreateCourse.jsx"],"sourcesContent":["import {\r\n  Button,\r\n  Container,\r\n  Grid,\r\n  Heading,\r\n  Image,\r\n  Input,\r\n  Select,\r\n  VStack,\r\n} from '@chakra-ui/react';\r\nimport React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport cursor from '../../../assets/images/cursor.png';\r\nimport { createCourse } from '../../../redux/actions/admin';\r\nimport { fileUploadCss } from '../../Auth/Register';\r\nimport Sidebar from '../Sidebar';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst CreateCourse = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [createdBy, setCreatedBy] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [imagePrev, setImagePrev] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n  const { loading, error, message } = useSelector(state => state.admin);\r\n\r\n  const categories = [\r\n    'Web development',\r\n    'Artificial Intellegence',\r\n    'Data Structure & Algorithm',\r\n    'App Development',\r\n    'Data Science',\r\n    'Game Development',\r\n  ];\r\n\r\n  const changeImageHandler = e => {\r\n    const file = e.target.files[0];\r\n    const reader = new FileReader();\r\n\r\n    reader.readAsDataURL(file);\r\n\r\n    reader.onloadend = () => {\r\n      setImagePrev(reader.result);\r\n      setImage(file);\r\n    };\r\n  };\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault();\r\n    const myForm = new FormData();\r\n    myForm.append('title', title);\r\n    myForm.append('description', description);\r\n    myForm.append('category', category);\r\n    myForm.append('createdBy', createdBy);\r\n    myForm.append('file', image);\r\n    dispatch(createCourse(myForm));\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error);\r\n      dispatch({ type: 'clearError' });\r\n    }\r\n\r\n    if (message) {\r\n      toast.success(message);\r\n      dispatch({ type: 'clearMessage' });\r\n    }\r\n  }, [dispatch, error, message]);\r\n\r\n  return (\r\n    <Grid\r\n      css={{\r\n        cursor: `url(${cursor}), default`,\r\n      }}\r\n      minH={'100vh'}\r\n      templateColumns={['1fr', '5fr 1fr']}\r\n    >\r\n      <Container py=\"16\">\r\n        <form onSubmit={submitHandler}>\r\n          <Heading\r\n            textTransform={'uppercase'}\r\n            children=\"Create Course\"\r\n            my=\"16\"\r\n            textAlign={['center', 'left']}\r\n          />\r\n\r\n          <VStack m=\"auto\" spacing={'8'}>\r\n            <Input\r\n              value={title}\r\n              onChange={e => setTitle(e.target.value)}\r\n              placeholder=\"Title\"\r\n              type={'text'}\r\n              focusBorderColor=\"purple.300\"\r\n            />{' '}\r\n            <Input\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n              placeholder=\"Description\"\r\n              type={'text'}\r\n              focusBorderColor=\"purple.300\"\r\n            />\r\n            <Input\r\n              value={createdBy}\r\n              onChange={e => setCreatedBy(e.target.value)}\r\n              placeholder=\"Creator Name\"\r\n              type={'text'}\r\n              focusBorderColor=\"purple.300\"\r\n            />\r\n            <Select\r\n              focusBorderColor=\"purple.300\"\r\n              value={category}\r\n              onChange={e => setCategory(e.target.value)}\r\n            >\r\n              <option value=\"\">Category</option>\r\n\r\n              {categories.map(item => (\r\n                <option key={item} value={item}>\r\n                  {item}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n            <Input\r\n              accept=\"image/*\"\r\n              required\r\n              type={'file'}\r\n              focusBorderColor=\"purple.300\"\r\n              css={{\r\n                '&::file-selector-button': {\r\n                  ...fileUploadCss,\r\n                  color: 'purple',\r\n                },\r\n              }}\r\n              onChange={changeImageHandler}\r\n            />\r\n            {imagePrev && (\r\n              <Image src={imagePrev} boxSize=\"64\" objectFit={'contain'} />\r\n            )}\r\n            <Button\r\n              isLoading={loading}\r\n              w=\"full\"\r\n              colorScheme={'purple'}\r\n              type=\"submit\"\r\n            >\r\n              Create\r\n            </Button>\r\n          </VStack>\r\n        </form>\r\n      </Container>\r\n\r\n      <Sidebar />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default CreateCourse;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}