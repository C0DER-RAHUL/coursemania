{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RAHUL\\\\Desktop\\\\coursebundler-main\\\\CourseBundler SourceCode\\\\frontend\\\\src\\\\components\\\\Payments\\\\Subscribe.jsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, Container, Heading, Text, VStack } from '@chakra-ui/react';\nimport axios from 'axios';\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { buySubscription } from '../../redux/actions/user';\nimport { server } from '../../redux/store';\nimport toast from 'react-hot-toast';\nimport logo from '../../assets/images/c.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Subscribe = ({\n  user\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const [key, setKey] = useState('');\n  const {\n    loading,\n    error,\n    subscriptionId\n  } = useSelector(state => state.subscription);\n  const {\n    error: courseError\n  } = useSelector(state => state.course);\n  const subscribeHandler = async () => {\n    const {\n      data: {\n        key\n      }\n    } = await axios.get(`${server}/razorpaykey`);\n    setKey(key);\n    dispatch(buySubscription());\n  };\n  useEffect(() => {\n    if (error) {\n      toast.error(error);\n      dispatch({\n        type: 'clearError'\n      });\n    }\n    if (courseError) {\n      toast.error(courseError);\n      dispatch({\n        type: 'clearError'\n      });\n    }\n    if (subscriptionId) {\n      const openPopUp = () => {\n        const options = {\n          key,\n          name: 'CourseMania',\n          description: 'Get access to all premium content',\n          image: logo,\n          subscription_id: subscriptionId,\n          callback_url: `${server}/paymentverification`,\n          prefill: {\n            name: user.name,\n            email: user.email,\n            contact: ''\n          },\n          notes: {\n            address: 'Pro Pack Programmer'\n          },\n          theme: {\n            color: '#FFC800'\n          }\n        };\n        const razor = new window.Razorpay(options);\n        razor.open();\n      };\n      openPopUp();\n    }\n  }, [dispatch, error, courseError, user.name, user.email, key, subscriptionId]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    h: \"90vh\",\n    p: \"16\",\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      children: \"Welcome\",\n      my: \"8\",\n      textAlign: 'center'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VStack, {\n      boxShadow: 'lg',\n      alignItems: \"stretch\",\n      borderRadius: 'lg',\n      spacing: \"0\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        bg: \"yellow.400\",\n        p: '4',\n        css: {\n          borderRadius: '8px 8px 0 0'\n        },\n        children: /*#__PURE__*/_jsxDEV(Text, {\n          color: 'black',\n          children: `Pro Pack - ₹299.00`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        p: \"4\",\n        children: [/*#__PURE__*/_jsxDEV(VStack, {\n          textAlign: 'center',\n          px: \"8\",\n          mt: '4',\n          spacing: \"8\",\n          children: [/*#__PURE__*/_jsxDEV(Text, {\n            children: `Join pro pack and get access to all content.`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Heading, {\n            size: \"md\",\n            children: '₹299 Only'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          my: \"8\",\n          w: \"full\",\n          colorScheme: 'yellow',\n          onClick: subscribeHandler,\n          isLoading: loading,\n          children: \"Buy Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        bg: \"blackAlpha.600\",\n        p: \"4\",\n        css: {\n          borderRadius: '0 0 8px 8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          color: 'white',\n          textTransform: \"uppercase\",\n          size: \"sm\",\n          children: '100% refund at cancellation'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          fontSize: 'xs',\n          color: \"white\",\n          children: '*Terms & Conditions Apply'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n};\n_s(Subscribe, \"AJVgTXncLgU3XWzLqk2JV74shoI=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = Subscribe;\nexport default Subscribe;\nvar _c;\n$RefreshReg$(_c, \"Subscribe\");","map":{"version":3,"names":["Box","Button","Container","Heading","Text","VStack","axios","React","useState","useEffect","useDispatch","useSelector","buySubscription","server","toast","logo","jsxDEV","_jsxDEV","Subscribe","user","_s","dispatch","key","setKey","loading","error","subscriptionId","state","subscription","courseError","course","subscribeHandler","data","get","type","openPopUp","options","name","description","image","subscription_id","callback_url","prefill","email","contact","notes","address","theme","color","razor","window","Razorpay","open","h","p","children","my","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","boxShadow","alignItems","borderRadius","spacing","bg","css","px","mt","size","w","colorScheme","onClick","isLoading","textTransform","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/RAHUL/Desktop/coursebundler-main/CourseBundler SourceCode/frontend/src/components/Payments/Subscribe.jsx"],"sourcesContent":["import {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Heading,\r\n  Text,\r\n  VStack,\r\n} from '@chakra-ui/react';\r\nimport axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { buySubscription } from '../../redux/actions/user';\r\nimport { server } from '../../redux/store';\r\nimport toast from 'react-hot-toast';\r\nimport logo from '../../assets/images/c.png';\r\n\r\nconst Subscribe = ({ user }) => {\r\n  const dispatch = useDispatch();\r\n  const [key, setKey] = useState('');\r\n\r\n  const { loading, error, subscriptionId } = useSelector(\r\n    state => state.subscription\r\n  );\r\n  const { error: courseError } = useSelector(state => state.course);\r\n\r\n  const subscribeHandler = async () => {\r\n    const {\r\n      data: { key },\r\n    } = await axios.get(`${server}/razorpaykey`);\r\n\r\n    setKey(key);\r\n    dispatch(buySubscription());\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast.error(error);\r\n      dispatch({ type: 'clearError' });\r\n    }\r\n    if (courseError) {\r\n      toast.error(courseError);\r\n      dispatch({ type: 'clearError' });\r\n    }\r\n    if (subscriptionId) {\r\n      const openPopUp = () => {\r\n        const options = {\r\n          key,\r\n          name: 'CourseMania',\r\n          description: 'Get access to all premium content',\r\n          image: logo,\r\n          subscription_id: subscriptionId,\r\n          callback_url: `${server}/paymentverification`,\r\n          prefill: {\r\n            name: user.name,\r\n            email: user.email,\r\n            contact: '' ,\r\n          },\r\n          notes: {\r\n            address: 'Pro Pack Programmer',\r\n          },\r\n          theme: {\r\n            color: '#FFC800',\r\n          },\r\n        };\r\n\r\n        const razor = new window.Razorpay(options);\r\n        razor.open();\r\n      };\r\n      openPopUp();\r\n    }\r\n  }, [\r\n    dispatch,\r\n    error,\r\n    courseError,\r\n    user.name,\r\n    user.email,\r\n    key,\r\n    subscriptionId,\r\n  ]);\r\n\r\n  return (\r\n    <Container h=\"90vh\" p=\"16\">\r\n      <Heading children=\"Welcome\" my=\"8\" textAlign={'center'} />\r\n\r\n      <VStack\r\n        boxShadow={'lg'}\r\n        alignItems=\"stretch\"\r\n        borderRadius={'lg'}\r\n        spacing=\"0\"\r\n      >\r\n        <Box bg=\"yellow.400\" p={'4'} css={{ borderRadius: '8px 8px 0 0' }}>\r\n          <Text color={'black'} children={`Pro Pack - ₹299.00`} />\r\n        </Box>\r\n        <Box p=\"4\">\r\n          <VStack textAlign={'center'} px=\"8\" mt={'4'} spacing=\"8\">\r\n            <Text children={`Join pro pack and get access to all content.`} />\r\n            <Heading size=\"md\" children={'₹299 Only'} />\r\n          </VStack>\r\n\r\n          <Button\r\n            my=\"8\"\r\n            w=\"full\"\r\n            colorScheme={'yellow'}\r\n            onClick={subscribeHandler}\r\n            isLoading={loading}\r\n          >\r\n            Buy Now\r\n          </Button>\r\n        </Box>\r\n\r\n        <Box bg=\"blackAlpha.600\" p=\"4\" css={{ borderRadius: '0 0 8px 8px' }}>\r\n          <Heading\r\n            color={'white'}\r\n            textTransform=\"uppercase\"\r\n            size=\"sm\"\r\n            children={'100% refund at cancellation'}\r\n          />\r\n\r\n          <Text\r\n            fontSize={'xs'}\r\n            color=\"white\"\r\n            children={'*Terms & Conditions Apply'}\r\n          />\r\n        </Box>\r\n      </VStack>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Subscribe;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}